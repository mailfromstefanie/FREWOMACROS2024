%
O2909(OP[]TRAP RUWFR+NAFR MACRO)
(#110=0, IF BEGIN <= 0)
(#110=1 IF BEGIN > 0)
#110=1
IF[#110EQ2]GOTO110
#19=0( RESETHUIDIGEDIEPTE)
IF[#2GT#3]GOTO8
#20=[[#2/2]-#6-5](STARTPUNT RUWFR BEREKENEN)
IF[#20LT0]THEN#20=0
#21=#4/#9(DIEPTE PER KEER RUWFR)
#23=[[#2/2]-#11-5](STARTPUNT NAFR BEREKENEN)
IF[#23LT0]THEN#23=0
#24=#4/#15(DIEPTE PER KEER NAFR)
#25=#3/2(EINDMAAT VIERKANT / 2)
#26=#25-[#11/SQRT[2]]+0.2(BOORCOORDINATEN)
#22=#25-0.7(EINDMAAT RUWFR)
(RUWFRZN)
IF[#33EQ1]GOTO33
G0G17G40G49G69G80G90G#1
T#5M6
S#7M3
X0Y#20
G43Z5H#5D#5F1000M83
N1#19=#19+#21(VOLGENDE DIEPTE)
IF[#19GT#4]GOTO2
G0Z-#19
G1G41X0Y#22D#5F1000
F#8
X-#22
Y-#22
X#22
Y#22
X0
G1G40X0Y#20
IF[#19NE#4]GOTO1(OPDIEPTE)
N2#19=0( RESETHUIDIGEDIEPTE)
G0G28G91Z0M84
G49Z0
G69
(BOREN)
N33G0G17G40G49G69G80G90G#1
T#10M6
S#17M3
X-#26Y#26
G43Z5H#10D#10F#18M83
G81G98Z-#4R5
X-#26Y-#26
X#26Y-#26
X#26Y#26
G80
(MEELOPEND)
G0Z5
S#12
X0Y#23
N4#19=0( RESETHUIDIGEDIEPTE)
IF[#16NE1]GOTO5
N3#19=#19+#24(VOLGENDE DIEPTE)
IF[#19GT#4]GOTO4
G0Z-#19
G1G41X0Y#25F1000D#10
F#13
X-#25
Y-#25
X#25
Y#25
X0
IF[#30EQ1]GOTO30
F#14
X-#25
Y-#25
X#25
Y#25
X0
N30G1G40X0Y#23
IF[#19NE#4]GOTO3(OPDIEPTE)
N4#19=0( RESETHUIDIGEDIEPTE)
GOTO8
N5(TEGENLOPEND)
N6#19=#19+#24(VOLGENDE DIEPTE)
IF[#19GT#4]GOTO7
G0Z-#19
G1G42X0Y#25F1000D#10
F#13
X#25
Y-#25
X-#25
Y#25
X2
IF[#30EQ1]GOTO31
F#14
X#25
Y-#25
X-#25
Y#25
X2
N31G1G40X0Y#23
IF[#19NE#4]GOTO6(OPDIEPTE)
N7#19=0( RESETHUIDIGEDIEPTE)
N8G0G28G91Z0M84
G49Z0
M99
N110(OP ZXY MACRO [] TRAPSGEWIJS FR RUW & NA)
(*************ALGEMEEN*************)
#19=0( RESETHUIDIGEDIEPTE)
IF[#2GT#3]GOTO8
(************RUWFREZEN*************)
#20=[[#2/2]-#6-5](STARTPUNT RUWFR BEREKENEN)
IF[#20LT0]THEN#20=0
#21=#4/#9(DIEPTE PER KEER RUWFR)
(************NAFREZEN**************)
#23=[[#2/2]-#11-5](STARTPUNT NAFR BEREKENEN)
IF[#23LT0]THEN#23=0
#24=#4/#15(DIEPTE PER KEER NAFR)
#25=#3/2(EINDMAAT VIERKANT / 2)
#32=[#2/2]/SQRT[2]+2.5(MINIMALE [] MAAT)
#22=#25-0.7(EINDMAAT RUWFR)
(*************BOREN****************)
#26=#22-[#11/SQRT[2]]+0.1(BOORCOORDINATEN)
(*********BEGIN PROGRAMMA**********)
(BOREN)
#32=[#2/2]/SQRT[2]+2.5(MINIMALE [] MAAT)
N33G0G17G40G49G69G80G90G#1
T#10M6
S#17M3
X-#26Y#26
G43Z5H#10D#10F#18M83
G81G98Z-#4R5
X-#26Y-#26
X#26Y-#26
X#26Y#26
G80
(MEELOPEND)
G0Z5
S#12
X0Y#23
N4#19=0( RESETHUIDIGEDIEPTE)
IF[#16NE1]GOTO5
N3#19=#19+#24(VOLGENDE DIEPTE)
IF[#19GT#4]GOTO4
G0Z-#19
G1G41X0Y#25F1000D#10
F#13
X-#25
Y-#25
X#25
Y#25
X0
IF[#30EQ1]GOTO30
F#14
X-#25
Y-#25
X#25
Y#25
X0
N30G1G40X0Y#23
IF[#19NE#4]GOTO3(OPDIEPTE)
N4#19=0( RESETHUIDIGEDIEPTE)
GOTO8
N5(TEGENLOPEND)
N6#19=#19+#24(VOLGENDE DIEPTE)
IF[#19GT#4]GOTO7
G0Z-#19
G1G42X0Y#25F1000D#10
F#13
X#25
Y-#25
X-#25
Y#25
X0
IF[#30EQ1]GOTO31
F#14
X#25
Y-#25
X-#25
Y#25
X0
N31G1G40X0Y#23
IF[#19NE#4]GOTO6(OPDIEPTE)
N7#19=0( RESETHUIDIGEDIEPTE)
N8G0G28G91Z0M84
G49Z0
M99
%